<%= form_with(model: [ account, holding ], class: "space-y-6") do |form| %>
  <div class="grid grid-cols-2 gap-4">
    <%= render InputComponent.new(form: form, field: :symbol, label: "Symbol", placeholder: "e.g., AAPL") %>
    <%= render InputComponent.new(form: form, field: :name, label: "Name", placeholder: "e.g., Apple Inc.") %>
  </div>

  <%= render InputComponent.new(
    form: form,
    field: :holding_type,
    label: "Type",
    type: :select,
    collection: [ [ "Stock", "stock" ], [ "ETF", "etf" ], [ "Mutual Fund", "mutual_fund" ], [ "Bond", "bond" ], [ "Crypto", "crypto" ], [ "Other", "other" ] ],
    include_blank: false
  ) %>

  <div class="grid grid-cols-3 gap-4">
    <%= render InputComponent.new(form: form, field: :shares, label: "Shares", type: :number, step: "0.000001") %>
    <%= render InputComponent.new(form: form, field: :cost_basis_per_share, label: "Cost Basis/Share", type: :number, step: "0.0001") %>
    <%= render InputComponent.new(form: form, field: :current_price, label: "Current Price", type: :number, step: "0.0001") %>
  </div>

  <%= render ButtonComponent.new(variant: :primary, type: "submit", submit: true) do %>
    <%= holding.persisted? ? "Update Holding" : "Add Holding" %>
  <% end %>
<% end %>
